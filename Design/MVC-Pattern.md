# Design Pattern - MVC

## 디자인 패턴?

`디자인 패턴(Design pattern)`은 건축학 및 컴퓨터 과학에서 사용되는 용어로, 설계 문제에 대한 해답을 문서화하기위해 고안된 형식 방법이다. 이 방식은 건축가 크리스토퍼 알렉산더가 건축학 영역에서 고안한 것을 그 시초로 하며, 이후 컴퓨터 과학 등 여러 다른 분야에도 도입되었다.

소프트웨어 개발 방법에서 사용되는 디자인 패턴은 프로그램 개발에서 자주 나타나는 과제를 해결하기 위한 방법 중 하나로, 과거의 소프트웨어 개발 과정에서 발견된 설계의 노하우를 축적하여 이름을 붙여, 이후에 재이용하기 좋은 형태로 특정의 규약을 묶어서 정리한 것이다. 알고리즘과 같이 프로그램 코드로 바로 변환될 수 있는 형태는 아니지만, 특정한 상황에서 구조적인 문제를 해결하는 방식을 설명해 준다.

- 출처 : https://ko.wikipedia.org/wiki/%EB%94%94%EC%9E%90%EC%9D%B8_%ED%8C%A8%ED%84%B4

## MVC

MVC는 안드로이드와 관계없이 프로그래밍 시 가장 널리 사용되는 구조 중 하나이며 간단하게 `Model, View, Control` 의 약자이다.

MVC (모델-뷰-컨트롤러) 는 사용자 인터페이스, 데이터 및 논리 제어를 구현하는데 널리 사용되는 소프트웨어 디자인 패턴이다. 소프트웨어의 비즈니스 로직과 화면을 구분하는데 중점을 두고 있다.

- Model : 데이터를 가지고 애플리케이션에 사용되는 데이터와 그 데이터를 처리한다. (데이터와 비지니스 로직 처리)

- View

  - 사용자에게 보일 화면을 표현한다. (레이아웃과 화면을 처리)
  - 앱 및 UI와의 상호작용에서 컨트롤러와 통신함.
  - 유저가 어떤 입력(Action)을 하든 View는 무엇을 해야 할지 모름

- Control

  - 사용자로부터 입력을 받고 이 입력을 모델에 의해 View 정의를 하게 됨.
  - 모델의 데이터 변화에 따라 뷰를 선택함.
  - 명령을 모델과 뷰 부분으로 라우팅한다.

<br>

<p align="center">

<img src="https://github.com/KCSGround/TIL/blob/master/assets/model-view-controller-light-blue.PNG" width="700px" height="525px"/>

</p>

<br/>

모델은 애플리케이션의 정보, 데이터를 나타냅니다. 데이터베이스, 처음의 정의하는 상수, 초기화값, 변수 등을 뜻한다. 또한 이러한 DATA, 정보들의 가공을 책임지는 컴포넌트를 말한다.

이 모델은 다음과 같은 규칙을 가지고 있다.

> 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.

> 뷰나 컨트롤러에 대한 어떤 정보도 알면 안된다.

> 변경이 일어나면, 변경 통지에 대한 처리방법을 구현해야만 한다.

<br/>

뷰는 input 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타낸다. 다시 말해 데이터 및 객체의 입력, 그리고 보여주는 출력을 담당한다. 데이타를 기반으로 사용자들이 볼 수 있는 화면이다.

뷰에서는 다음과 같은 규칙들이 있다.

> 모델이 가지고 있는 정보를 따로 저장해서는 안된다.

> 모델이나 컨트롤러와 같이 다른 구성요소들을 몰라야 된다.

> 변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다.

<br/>

컨트롤러는 데이터와 사용자인터페이스 요소들을 잇는 다리역할을 한다. 즉, 사용자가 데이터를 클릭하고, 수정하는 것에 대한 "이벤트"들을 처리하는 부분을 뜻한다.

컨트롤러 또한 다음과 같은 규칙을 이해해야 한다.

> 모델이나 뷰에 대해서 알고 있어야 한다.

> 모델이나 뷰의 변경을 모니터링 해야 한다.

<br/>

## MVC 패턴을 사용하는 이유?

애플리케이션의 확장성, 그리고 유연성이 증가하고, 중복코딩이라는 문제점 또한 사라지게 된다.

### 장점

- Model과 View의 분리됨.
- Model의 비종속성으로 재사용 가능함.
- 구현하기 가장 쉽고 단순함.
- 유닛테스트에서 View는 테스트 할 부분이 없기 때문에 쉽게 Model만 테스트 가능.
- 개발자라면 누구나 쉽게 파악 가능함.
- 개발기간이 짧아짐. (안드로이드에서의 장점)

### 단점

- Model과 View사이에 의존성 발생함. (서로간의 의존성 완전히 없앨 수 없음)
- 즉, View의 UI 갱신을 위해 Model을 직/간접적으로 참조하므로 앱 자체가 커지고 로직이 복잡해질수록 유지보수가 힘들어집니다.
- 스파게티 코드가 될 가능성이 높음.
- 코드 복사/붙여넣기가 많아지게 되면서 코드 분리조차 되지않으면 코드가 아주 제대로 꼬여버립니다. 그렇기에 복잡도는 증가합니다. 다만, 이는 설계 단계에서 제대로해서 분리를 잘하면 어느정도 해소는 됩니다.
- 시간이 지날수록 컨트롤러에 많은 코드가 쌓여 코드가 비대화하여 문제 발생 가능
- Controller가 안드로이드 API에 깊게 종속되므로 유닛 테스트가 어려움.

---

참고 문서

- https://velog.io/@jojo_devstory/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-%ED%8C%A8%ED%84%B4-MVC%EA%B0%80-%EB%AD%98%EA%B9%8C

- https://m.blog.naver.com/jhc9639/220967034588

- https://jroomstudio.tistory.com/21

- https://academy.realm.io/kr/posts/eric-maxwell-mvc-mvp-and-mvvm-on-android/

- https://developer.mozilla.org/ko/docs/Glossary/MVC

- https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC
